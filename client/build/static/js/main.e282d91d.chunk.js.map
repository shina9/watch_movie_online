{"version":3,"sources":["components/headers/icon/menu.svg","components/headers/icon/close.svg","api/MoviesAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/Header.js","components/mainpages/utils/movieItem/BtnRender.js","components/mainpages/utils/movieItem/MovieItem.js","components/mainpages/utils/loading/Loading.js","components/mainpages/movies/Filters.js","components/mainpages/movies/LoadMore.js","components/mainpages/movies/Movies.js","components/mainpages/detailMovie/DetailMovie.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/categories/Categories.js","components/mainpages/createMovie/CreateMovie.js","components/mainpages/Pages.js","App.js","index.js"],"names":["module","exports","MoviesAPI","useState","movies","setMovies","callback","setCallback","category","setCategory","sort","setSort","search","setSearch","page","setPage","result","setResult","useEffect","a","axios","get","res","data","getMovies","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","history","setHistory","headers","Authorization","role","alert","response","msg","getUser","addCart","movie","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","localStorage","getItem","refreshToken","accesstoken","setTimeout","state","moviesAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","menu","setMenu","logoutUser","removeItem","window","location","href","styleMenu","left","className","onClick","src","Menu","alt","width","to","style","Close","BtnRender","deleteMovie","id","images","public_id","MovieItem","handleCheck","type","checked","onChange","url","title","price","description","Loading","Filters","name","e","target","map","key","placeholder","toLowerCase","LoadMore","Movies","loading","setLoading","isCheck","setIsCheck","forEach","destroyImg","post","delete","length","DetailMovie","params","useParams","detailMovie","setDetailMovie","movie_id","height","content","Login","email","password","user","setUser","onChangeInput","loginSubmit","preventDefault","setItem","onSubmit","required","autoComplete","Register","registerSubmit","NotFound","Categories","onEdit","setOnEdit","setID","createCategory","put","editCategory","deleteCategory","htmlFor","initialState","CreateMovie","setMovie","setImages","param","handleUpload","file","files","size","formData","FormData","append","handleDestroy","handleChangeInput","handleSubmit","styleUpload","display","disabled","rows","Pages","path","exact","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e282d91d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/menu.b3f49afd.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.2c5552a1.svg\";","import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nfunction MoviesAPI() {\r\n    const [movies, setMovies] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n    const [category, setCategory] = useState('')\r\n    const [sort, setSort] = useState('')\r\n    const [search, setSearch] = useState('')\r\n    const [page, setPage] = useState(1)\r\n    const [result, setResult] = useState(0)\r\n\r\n    useEffect(() => {\r\n        const getMovies = async () => {\r\n            const res = await axios.get(`/api/movies?limit=${page * 9}&${category}&${sort}&title[regex]=${search}`)\r\n            setMovies(res.data.movies)\r\n            setResult(res.data.result)\r\n        }\r\n        getMovies()\r\n    }, [callback, category, sort, search, page])\r\n\r\n    return {\r\n        movies: [movies, setMovies],\r\n        callback: [callback, setCallback],\r\n        category: [category, setCategory],\r\n        sort: [sort, setSort],\r\n        search: [search, setSearch],\r\n        page: [page, setPage],\r\n        result: [result, setResult]\r\n    }\r\n}\r\n\r\nexport default MoviesAPI\r\n","import { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction UserAPI(token) {\r\n    const [isLogged, setIsLogged] = useState(false)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n    const [cart, setCart] = useState([])\r\n    const [history, setHistory] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            const getUser = async () => {\r\n                try {\r\n                    const res = await axios.get('/user/infor', {\r\n                        headers: { Authorization: token }\r\n                    })\r\n\r\n                    setIsLogged(true)\r\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\r\n\r\n                    setCart(res.data.cart)\r\n\r\n                } catch (err) {\r\n                    alert(err.response.data.msg)\r\n                }\r\n            }\r\n\r\n            getUser()\r\n\r\n        }\r\n    }, [token])\r\n\r\n\r\n\r\n    const addCart = async (movie) => {\r\n        if (!isLogged) return alert(\"Please login to continue buying\")\r\n\r\n        const check = cart.every(item => {\r\n            return item._id !== movie._id\r\n        })\r\n\r\n        if (check) {\r\n            setCart([...cart, { ...movie, quantity: 1 }])\r\n\r\n            await axios.patch('/user/addcart', { cart: [...cart, { ...movie, quantity: 1 }] }, {\r\n                headers: { Authorization: token }\r\n            })\r\n\r\n        } else {\r\n            alert(\"This movie has been added to cart.\")\r\n        }\r\n    }\r\n\r\n    return {\r\n        isLogged: [isLogged, setIsLogged],\r\n        isAdmin: [isAdmin, setIsAdmin],\r\n        cart: [cart, setCart],\r\n        addCart: addCart,\r\n        history: [history, setHistory]\r\n    }\r\n}\r\n\r\nexport default UserAPI\r\n","import {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nfunction CategoriesAPI() {\r\n    const [categories, setCategories] = useState([])\r\n    const [callback, setCallback] = useState(false)\r\n\r\n    useEffect(() =>{\r\n        const getCategories = async () =>{\r\n            const res = await axios.get('/api/category')\r\n            setCategories(res.data)\r\n        }\r\n\r\n        getCategories()\r\n    },[callback])\r\n    return {\r\n        categories: [categories, setCategories],\r\n        callback: [callback, setCallback]\r\n    }\r\n}\r\n\r\nexport default CategoriesAPI\r\n","import React, { createContext, useState, useEffect } from 'react'\r\nimport MoviesAPI from './api/MoviesAPI'\r\nimport UserAPI from './api/UserAPI'\r\nimport CategoriesAPI from './api/CategoriesAPI'\r\n\r\nimport axios from 'axios'\r\n\r\nexport const GlobalState = createContext()\r\n\r\n\r\nexport const DataProvider = ({ children }) => {\r\n    const [token, setToken] = useState(false)\r\n\r\n\r\n    useEffect(() => {\r\n        const firstLogin = localStorage.getItem('firstLogin')\r\n        if (firstLogin) {\r\n            const refreshToken = async () => {\r\n                const res = await axios.get('/user/refresh_token')\r\n\r\n                setToken(res.data.accesstoken)\r\n\r\n                setTimeout(() => {\r\n                    refreshToken()\r\n                }, 10 * 60 * 1000)\r\n            }\r\n            refreshToken()\r\n        }\r\n    }, [])\r\n\r\n\r\n\r\n    const state = {\r\n        token: [token, setToken],\r\n        moviesAPI: MoviesAPI(),\r\n        userAPI: UserAPI(token),\r\n        categoriesAPI: CategoriesAPI()\r\n    }\r\n\r\n    return (\r\n        <GlobalState.Provider value={state}>\r\n            {children}\r\n        </GlobalState.Provider>\r\n    )\r\n}","import React, { useContext, useState } from 'react'\r\nimport { GlobalState } from '../../GlobalState'\r\nimport Menu from './icon/menu.svg'\r\nimport Close from './icon/close.svg'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Header() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [menu, setMenu] = useState(false)\r\n\r\n    const logoutUser = async () => {\r\n        await axios.get('/user/logout')\r\n\r\n        localStorage.removeItem('firstLogin')\r\n\r\n        window.location.href = \"/\";\r\n    }\r\n\r\n    const adminRouter = () => {\r\n        return (\r\n            <>\r\n                <li><Link to=\"/create_movie\">Create Movie</Link></li>\r\n                <li><Link to=\"/category\">Categories</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const loggedRouter = () => {\r\n        return (\r\n            <>\r\n                <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    const styleMenu = {\r\n        left: menu ? 0 : \"-100%\"\r\n    }\r\n\r\n    return (\r\n        <header>\r\n            <div className=\"menu\" onClick={() => setMenu(!menu)}>\r\n                <img src={Menu} alt=\"\" width=\"30\" />\r\n            </div>\r\n\r\n            <div className=\"logo\">\r\n                <h1>\r\n                    <Link to=\"/\">{isAdmin ? 'Admin' : 'Watch Movie'}</Link>\r\n                </h1>\r\n            </div>\r\n\r\n            <ul style={styleMenu}>\r\n                <li><Link to=\"/\">{isAdmin ? 'Movies' : 'Home'}</Link></li>\r\n\r\n                {isAdmin && adminRouter()}\r\n\r\n                {\r\n                    isLogged ? loggedRouter() : <li><Link to=\"/login\">Login</Link></li>\r\n                }\r\n\r\n                <li onClick={() => setMenu(!menu)}>\r\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\r\n                </li>\r\n\r\n            </ul>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { GlobalState } from '../../../../GlobalState'\r\n\r\nfunction BtnRender({ movie, deleteMovie }) {\r\n    const state = useContext(GlobalState)\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n\r\n\r\n    return (\r\n        <div className=\"row_btn\">\r\n            {\r\n                isAdmin ?\r\n                    <>\r\n                        <Link id=\"btn_buy\" to=\"#!\"\r\n                            onClick={() => deleteMovie(movie._id, movie.images.public_id)}>\r\n                            Delete\r\n                        </Link>\r\n                        <Link id=\"btn_view\" to={`/edit_movie/${movie._id}`}>\r\n                            Edit\r\n                        </Link>\r\n                    </>\r\n                    : <>\r\n                        <Link id=\"btn_view\" to={`/detail/${movie._id}`}>\r\n                            View\r\n                        </Link>\r\n                    </>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BtnRender\r\n","import React from 'react'\r\nimport BtnRender from './BtnRender'\r\n\r\nfunction MovieItem({ movie, isAdmin, deleteMovie, handleCheck }) {\r\n\r\n    return (\r\n        <div className=\"movie_card\">\r\n            {\r\n                isAdmin && <input type=\"checkbox\" checked={movie.checked}\r\n                    onChange={() => handleCheck(movie._id)} />\r\n            }\r\n            <img src={movie.images.url} alt=\"\" />\r\n\r\n            <div className=\"movie_box\">\r\n                <h2 title={movie.title}>{movie.title}</h2>\r\n                <span>${movie.price}</span>\r\n                <p>{movie.description}</p>\r\n            </div>\r\n\r\n\r\n            <BtnRender movie={movie} deleteMovie={deleteMovie} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MovieItem\r\n","import React from 'react'\r\nimport './loading.css'\r\n\r\nfunction Loading() {\r\n    return (\r\n        <div className=\"load-page\">\r\n            <div className=\"loader\">\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            <div>\r\n                                <div>\r\n                                    <div>\r\n                                        <div>\r\n                                            <div></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loading\r\n","import React, { useContext } from 'react'\r\nimport { GlobalState } from '../../../GlobalState'\r\n\r\nfunction Filters() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n\r\n    const [category, setCategory] = state.moviesAPI.category\r\n    const [sort, setSort] = state.moviesAPI.sort\r\n    const [search, setSearch] = state.moviesAPI.search\r\n\r\n\r\n    const handleCategory = e => {\r\n        setCategory(e.target.value)\r\n        setSearch('')\r\n    }\r\n\r\n    return (\r\n        <div className=\"filter_menu\">\r\n            <div className=\"row\">\r\n                <span>Filters: </span>\r\n                <select name=\"category\" value={category} onChange={handleCategory} >\r\n                    <option value=''>All Movies</option>\r\n                    {\r\n                        categories.map(category => (\r\n                            <option value={\"category=\" + category._id} key={category._id}>\r\n                                {category.name}\r\n                            </option>\r\n                        ))\r\n                    }\r\n                </select>\r\n            </div>\r\n\r\n            <input type=\"text\" value={search} placeholder=\"Enter your search!\"\r\n                onChange={e => setSearch(e.target.value.toLowerCase())} />\r\n\r\n            <div className=\"row sort\">\r\n                <span>Sort By: </span>\r\n                <select value={sort} onChange={e => setSort(e.target.value)} >\r\n                    <option value=''>Newest</option>\r\n                    <option value='sort=oldest'>Oldest</option>\r\n                    <option value='sort=-sold'>Best sales</option>\r\n                    <option value='sort=-price'>Price: Hight-Low</option>\r\n                    <option value='sort=price'>Price: Low-Hight</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filters\r\n","import React, { useContext } from 'react'\r\nimport { GlobalState } from '../../../GlobalState'\r\n\r\nfunction LoadMore() {\r\n    const state = useContext(GlobalState)\r\n    const [page, setPage] = state.moviesAPI.page\r\n    const [result] = state.moviesAPI.result\r\n\r\n    return (\r\n        <div className=\"load_more\">\r\n            {\r\n                result < page * 9 ? \"\"\r\n                    : <button onClick={() => setPage(page + 1)}>Load more</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadMore\r\n","import React, { useContext, useState } from 'react'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport MovieItem from '../utils/movieItem/MovieItem'\r\nimport Loading from '../utils/loading/Loading'\r\nimport axios from 'axios'\r\nimport Filters from './Filters'\r\nimport LoadMore from './LoadMore'\r\n\r\n\r\nfunction Movies() {\r\n    const state = useContext(GlobalState)\r\n    const [movies, setMovies] = state.moviesAPI.movies\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.moviesAPI.callback\r\n    const [loading, setLoading] = useState(false)\r\n    const [isCheck, setIsCheck] = useState(false)\r\n\r\n    const handleCheck = (id) => {\r\n        movies.forEach(movie => {\r\n            if (movie._id === id) movie.checked = !movie.checked\r\n        })\r\n        setMovies([...movies])\r\n    }\r\n\r\n    const deleteMovie = async (id, public_id) => {\r\n        try {\r\n            setLoading(true)\r\n            const destroyImg = axios.post('/api/destroy', { public_id }, {\r\n                headers: { Authorization: token }\r\n            })\r\n            const deleteMovie = axios.delete(`/api/movies/${id}`, {\r\n                headers: { Authorization: token }\r\n            })\r\n\r\n            await destroyImg\r\n            await deleteMovie\r\n            setCallback(!callback)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const checkAll = () => {\r\n        movies.forEach(movie => {\r\n            movie.checked = !isCheck\r\n        })\r\n        setMovies([...movies])\r\n        setIsCheck(!isCheck)\r\n    }\r\n\r\n    const deleteAll = () => {\r\n        movies.forEach(movie => {\r\n            if (movie.checked) deleteMovie(movie._id, movie.images.public_id)\r\n        })\r\n    }\r\n\r\n    if (loading) return <div><Loading /></div>\r\n    return (\r\n        <>\r\n            <Filters />\r\n\r\n            {\r\n                isAdmin &&\r\n                <div className=\"delete-all\">\r\n                    <span>Select all</span>\r\n                    <input type=\"checkbox\" checked={isCheck} onChange={checkAll} />\r\n                    <button onClick={deleteAll}>Delete ALL</button>\r\n                </div>\r\n            }\r\n\r\n            <div className=\"movies\">\r\n                {\r\n                    movies.map(movie => {\r\n                        return <MovieItem key={movie._id} movie={movie}\r\n                            isAdmin={isAdmin} deleteMovie={deleteMovie} handleCheck={handleCheck} />\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <LoadMore />\r\n            {movies.length === 0 && <Loading />}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Movies\r\n","import React, { useContext, useState, useEffect } from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport MovieItem from '../utils/movieItem/MovieItem'\r\n\r\n\r\nfunction DetailMovie() {\r\n    const params = useParams()\r\n    const state = useContext(GlobalState)\r\n    const [movies] = state.moviesAPI.movies\r\n    const [detailMovie, setDetailMovie] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (params.id) {\r\n\r\n            movies.forEach(movie => {\r\n                if (movie._id === params.id) setDetailMovie(movie)\r\n            })\r\n        }\r\n    }, [params.id, movies])\r\n\r\n    if (detailMovie.length === 0) return null;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"detail\">\r\n                <img src={detailMovie.images.url} alt=\"\" />\r\n                <div className=\"box-detail\">\r\n                    <div className=\"row\">\r\n                        <h2>{detailMovie.title}</h2>\r\n                        <h6>#id: {detailMovie.movie_id}</h6>\r\n                    </div>\r\n                    <span>$ {detailMovie.price}</span>\r\n                    <p>{detailMovie.description}</p>\r\n                    <iframe width=\"420\" height=\"345\" src={detailMovie.content}></iframe>\r\n                    {/* <p>{detailMovie.content}</p> */}\r\n                    {/* <p>Sold: {detailMovie.sold}</p> */}\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <h2>Related movies</h2>\r\n                <div className=\"movies\">\r\n                    {\r\n                        movies.map(movie => {\r\n                            return movie.category === detailMovie.category\r\n                                ? <MovieItem key={movie._id} movie={movie} /> : null\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DetailMovie\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Login() {\r\n    const [user, setUser] = useState({\r\n        email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const loginSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/login', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n            \r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={loginSubmit}>\r\n                <h2>Login</h2>\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Login</button>\r\n                    <Link to=\"/register\">Register</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, {useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Register() {\r\n    const [user, setUser] = useState({\r\n        name:'', email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const registerSubmit = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            await axios.post('/user/register', {...user})\r\n\r\n            localStorage.setItem('firstLogin', true)\r\n\r\n            \r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form onSubmit={registerSubmit}>\r\n                <h2>Register</h2>\r\n                <input type=\"text\" name=\"name\" required\r\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\r\n\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Register</button>\r\n                    <Link to=\"/login\">Login</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            404 | Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React, {useState, useContext} from 'react'\r\nimport {GlobalState} from '../../../GlobalState'\r\nimport axios from 'axios'\r\n\r\nfunction Categories() {\r\n    const state = useContext(GlobalState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [category, setCategory] = useState('')\r\n    const [token] = state.token\r\n    const [callback, setCallback] = state.categoriesAPI.callback\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [id, setID] = useState('')\r\n\r\n    const createCategory = async e =>{\r\n        e.preventDefault()\r\n        try {\r\n            if(onEdit){\r\n                const res = await axios.put(`/api/category/${id}`, {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }else{\r\n                const res = await axios.post('/api/category', {name: category}, {\r\n                    headers: {Authorization: token}\r\n                })\r\n                alert(res.data.msg)\r\n            }\r\n            setOnEdit(false)\r\n            setCategory('')\r\n            setCallback(!callback)\r\n            \r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const editCategory = async (id, name) =>{\r\n        setID(id)\r\n        setCategory(name)\r\n        setOnEdit(true)\r\n    }\r\n\r\n    const deleteCategory = async id =>{\r\n        try {\r\n            const res = await axios.delete(`/api/category/${id}`, {\r\n                headers: {Authorization: token}\r\n            })\r\n            alert(res.data.msg)\r\n            setCallback(!callback)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"categories\">\r\n            <form onSubmit={createCategory}>\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input type=\"text\" name=\"category\" value={category} required\r\n                onChange={e => setCategory(e.target.value)} />\r\n\r\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n\r\n            <div className=\"col\">\r\n                {\r\n                    categories.map(category => (\r\n                        <div className=\"row\" key={category._id}>\r\n                            <p>{category.name}</p>\r\n                            <div>\r\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\r\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { GlobalState } from '../../../GlobalState'\r\nimport Loading from '../utils/loading/Loading'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nconst initialState = {\r\n    movie_id: '',\r\n    title: '',\r\n    price: 0,\r\n    description: 'How to and tutorial videos of cool CSS effect, Web Design ideas,JavaScript libraries, Node.',\r\n    content: 'Welcome to our channel Dev AT. Here you can learn web designing, UI/UX designing, html css tutorials, css animations and css effects, javascript and jquery tutorials and related so on.',\r\n    category: '',\r\n    _id: ''\r\n}\r\n\r\nfunction CreateMovie() {\r\n    const state = useContext(GlobalState)\r\n    const [movie, setMovie] = useState(initialState)\r\n    const [categories] = state.categoriesAPI.categories\r\n    const [images, setImages] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n    const [token] = state.token\r\n\r\n\r\n    const param = useParams()\r\n\r\n    const [movies] = state.moviesAPI.movies\r\n    const [onEdit, setOnEdit] = useState(false)\r\n    const [callback, setCallback] = state.moviesAPI.callback\r\n\r\n    useEffect(() => {\r\n        if (param.id) {\r\n            setOnEdit(true)\r\n            movies.forEach(movie => {\r\n                if (movie._id === param.id) {\r\n                    setMovie(movie)\r\n                    setImages(movie.images)\r\n                }\r\n            })\r\n        } else {\r\n            setOnEdit(false)\r\n            setMovie(initialState)\r\n            setImages(false)\r\n        }\r\n    }, [param.id, movies])\r\n\r\n    const handleUpload = async e => {\r\n        e.preventDefault()\r\n        try {\r\n            if (!isAdmin) return alert(\"You're not an admin\")\r\n            const file = e.target.files[0]\r\n\r\n            if (!file) return alert(\"File not exist.\")\r\n\r\n            if (file.size > 1024 * 1024) // 1mb\r\n                return alert(\"Size too large!\")\r\n\r\n            if (file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\r\n                return alert(\"File format is incorrect.\")\r\n\r\n            let formData = new FormData()\r\n            formData.append('file', file)\r\n\r\n            setLoading(true)\r\n            const res = await axios.post('/api/upload', formData, {\r\n                headers: { 'content-type': 'multipart/form-data', Authorization: token }\r\n            })\r\n            setLoading(false)\r\n            setImages(res.data)\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleDestroy = async () => {\r\n        try {\r\n            if (!isAdmin) return alert(\"You're not an admin\")\r\n            setLoading(true)\r\n            await axios.post('/api/destroy', { public_id: images.public_id }, {\r\n                headers: { Authorization: token }\r\n            })\r\n            setLoading(false)\r\n            setImages(false)\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target\r\n        setMovie({ ...movie, [name]: value })\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        try {\r\n            if (!isAdmin) return alert(\"You're not an admin\")\r\n            if (!images) return alert(\"No Image Upload\")\r\n\r\n            if (onEdit) {\r\n                await axios.put(`/api/movies/${movie._id}`, { ...movie, images }, {\r\n                    headers: { Authorization: token }\r\n                })\r\n            } else {\r\n                await axios.post('/api/movies', { ...movie, images }, {\r\n                    headers: { Authorization: token }\r\n                })\r\n            }\r\n            setCallback(!callback)\r\n            // history.push(\"/\")\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    const styleUpload = {\r\n        display: images ? \"block\" : \"none\"\r\n    }\r\n    return (\r\n        <div className=\"create_movie\">\r\n            <div className=\"upload\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload} />\r\n                {\r\n                    loading ? <div id=\"file_img\"><Loading /></div>\r\n\r\n                        : <div id=\"file_img\" style={styleUpload}>\r\n                            <img src={images ? images.url : ''} alt=\"\" />\r\n                            <span onClick={handleDestroy}>X</span>\r\n                        </div>\r\n                }\r\n\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"movie_id\">Movie ID</label>\r\n                    <input type=\"text\" name=\"movie_id\" id=\"movie_id\" required\r\n                        value={movie.movie_id} onChange={handleChangeInput} disabled={onEdit} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" required\r\n                        value={movie.title} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" required\r\n                        value={movie.price} onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\r\n                        value={movie.description} rows=\"5\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"content\">Content</label>\r\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\r\n                        value={movie.content} rows=\"7\" onChange={handleChangeInput} />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                    <label htmlFor=\"categories\">Categories: </label>\r\n                    <select name=\"category\" value={movie.category} onChange={handleChangeInput} >\r\n                        <option value=\"\">Please select a category</option>\r\n                        {\r\n                            categories.map(category => (\r\n                                <option value={category._id} key={category._id}>\r\n                                    {category.name}\r\n                                </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n\r\n                <button type=\"submit\">{onEdit ? \"Update\" : \"Create\"}</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateMovie\r\n","import React, { useContext } from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Movies from './movies/Movies'\r\nimport DetailMovie from './detailMovie/DetailMovie'\r\nimport Login from './auth/Login'\r\nimport Register from './auth/Register'\r\n\r\n\r\nimport NotFound from './utils/not_found/NotFound'\r\nimport Categories from './categories/Categories'\r\nimport CreateMovie from './createMovie/CreateMovie'\r\n\r\nimport { GlobalState } from '../../GlobalState'\r\n\r\n\r\nfunction Pages() {\r\n    const state = useContext(GlobalState)\r\n    const [isLogged] = state.userAPI.isLogged\r\n    const [isAdmin] = state.userAPI.isAdmin\r\n\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/\" exact component={Movies} />\r\n            <Route path=\"/detail/:id\" exact component={DetailMovie} />\r\n\r\n            <Route path=\"/login\" exact component={isLogged ? NotFound : Login} />\r\n            <Route path=\"/register\" exact component={isLogged ? NotFound : Register} />\r\n\r\n            <Route path=\"/category\" exact component={isAdmin ? Categories : NotFound} />\r\n            <Route path=\"/create_movie\" exact component={isAdmin ? CreateMovie : NotFound} />\r\n            <Route path=\"/edit_movie/:id\" exact component={isAdmin ? CreateMovie : NotFound} />\r\n\r\n            <Route path=\"*\" exact component={NotFound} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Pages\r\n","import React from 'react';\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\nimport {DataProvider} from './GlobalState'\r\nimport Header from './components/headers/Header'\r\nimport MainPages from './components/mainpages/Pages'\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <DataProvider>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Header />\r\n          <MainPages />\r\n        </div>\r\n      </Router>\r\n    </DataProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}